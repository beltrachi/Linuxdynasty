<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Linuxdynasty</title>
<meta name="description" content="What I am up too.">
<meta name="keywords" content="Python, GoLang, automation, scripting, programming, vFense, metrics, monitoring">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://127.0.0.1:4001/images/abstract-1.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="What I am up too.">
<meta name="twitter:creator" content="@linuxdynasty">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="What I am up too.">
<meta property="og:url" content="http://127.0.0.1:4001/page15/index.html">
<meta property="og:site_name" content="Linuxdynasty">





<link rel="canonical" href="http://127.0.0.1:4001/page15/">
<link href="http://127.0.0.1:4001/feed.xml" type="application/atom+xml" rel="alternate" title="Linuxdynasty Feed">
<link rel="author" href="https://google.com/+AllenSanabria?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://127.0.0.1:4001/assets/css/main.min.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://127.0.0.1:4001/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://127.0.0.1:4001/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://127.0.0.1:4001/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://127.0.0.1:4001/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://127.0.0.1:4001/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://127.0.0.1:4001/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://127.0.0.1:4001/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://127.0.0.1:4001">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://127.0.0.1:4001/images/avatar.jpg" alt="Allen Sanabria photo" class="author-photo">
					<h4>Allen Sanabria</h4>
					<p>DevOps developer who loves programming, monitoring, automation, and metrics.</p>
				</li>
				<li><a href="http://127.0.0.1:4001/about/">Learn More</a></li>
				<li>
					<a href="mailto:asanabria <@> linuxdynasty dot org"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/linuxdynasty"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+AllenSanabria"><i class="fa fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="http://linkedin.com/in/linuxdynasty"><i class="fa fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/linuxdynasty"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://127.0.0.1:4001/posts/">All Posts</a></li>
				<li><a href="http://127.0.0.1:4001/tags/">All Tags</a></li>
			</ul>
		</li>
		<li><a href="http://127.0.0.1:4001"></a></li><li><a href="http://127.0.0.1:4001"></a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="http://127.0.0.1:4001/images/abstract-1.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Linuxdynasty</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-09-16T19:20:37-04:00"><a href="http://127.0.0.1:4001/howto-remaster-a-livecd-or-livedvd-using-slax/">September 16, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/howto-remaster-a-livecd-or-livedvd-using-slax/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~6 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/howto-remaster-a-livecd-or-livedvd-using-slax/" rel="bookmark" title="HowTo Remaster a LiveCD or LiveDVD using SLAX" itemprop="url">HowTo Remaster a LiveCD or LiveDVD using SLAX</a></h1>
    
  </header>
  <div class="entry-content">
    <p>The other day I had to come up with a way to transfer a Solaris Express nv97 DVD 3G image to remote locations while not using the network. The reason for this is, I needed to perform a LiveUpgrade on over 700 boxes and each being at a different locations. So I said to myself I guess I can put this image on a custom LiveDVD... But then I said to myself, which Linux LiveCD/DVD distro will I use???? It has to be small enough so that I can fit the Solaris Express nv97 image as well as the LiveCD Image. </p>
<p><a id="more"></a><a id="more-19"></a></p>
<p>I thought to first use Knoppix or Puppet Linux or even DSL Linux.. But after going through there documentation I was like ok, this is getting confusing!!! I decided to try first Knoppix and let me tell you during the compression phase it failed every time. Then I was on my way to try Puppy Linux, but right before I did that I ran into SLAX Linux. And I am so glad that I did! The instructions were straight to the pointand not to metnion easy to read.</p>
<p>So in this HowTo I will show you how to remaster your own LiveCD/DVD image using SLAX and some of the cool things that you can do with SLAX. All comments are appreciated and if you found this HowTo helpful then please digg and leave a comment. Thank You.</p>
<p>&nbsp;</p>
<p>I would suggest that you have either VirtualBox or VMware installed so you can do all your testing on VirtualMachines.</p>
<p>Requirements for me for this project were....</p>
<ul>
<li>Solaris Express nv97 DVD Image must fit on LiveDVD</li>
<li>sshd needs to be started with a valid root password</li>
<li>The Image needs to be shared via NFS</li>
</ul>
<p>&nbsp;&nbsp;<br />
&nbsp;</p>
<p>This HowTo makes some assumptions...</p>
<ul>
<li>You have used Linux before and understand how to use a terminal</li>
<li>You have used either VirtualBox or VMware Workstation&nbsp;</li>
<li>Create a VirtualDisk of at least 10G for this example... Now normally this all really depends on how many extra packages you want and files you want to addto the live Image that you are creating.
</li>
</ul>
<p>The first thing that you need to do is to download SLAX from this link&nbsp;<a href="http://www.slax.org/get_slax.php" title="">SLAX</a>. Now using either <a href="http://www.virtualbox.org/wiki/Downloads" title="Download VirtualBox">VirtualBox</a> or <a href="http://www.vmware.com/products/ws/" title="Download Free Trial of Vmware">Vmware</a>, boot into SLAX using the ISO image you downloaded. Once you are logged into the system you will follow the steps below...</p>
<ol>
<li><font color="#0000ff"><strong>fdisk -l</strong></font>&nbsp;&nbsp;&nbsp; { The reason for this command is that you want to see what available disk you have to use for this LiveDVD }
</li>
<li><strong><font color="#0000ff">fdisk</font> <font color="#ff0000">/dev/sda</font></strong>&nbsp; { This command you will use to create the partition you want to use }
</li>
<li><strong><font color="#0000ff">mkfs.ext3</font> <font color="#ff0000">/dev/sda1</font></strong> { This command will create the ext3 filesystem on /dev/sda1 }
</li>
<li><font color="#0000ff"><strong>fdisk -l&nbsp;</strong></font>&nbsp; { This command will show you the available partition that you just created above }
</li>
<li><strong><font color="#0000ff">mkdir</font> <font color="#ff0000">/mnt/NewSlax</font></strong>&nbsp;&nbsp; { here you will create the directorywhere you will mount the newly created filesystem }
</li>
<li><strong><font color="#0000ff">mount</font> <font color="#ff0000">/dev/sda1 /mnt/NewSlax/</font></strong>&nbsp; { Here you will mount the newly created filesystem on /mnt/NewSlax }
</li>
<li><font color="#0000ff"><strong>df -h</strong></font>&nbsp; { Here you will see the newly mounted drive and where it is mounted }
</li>
<li><font color="#0000ff"><strong>cp -rfpa</strong></font> <font color="#ff0000"><strong>/mnt/live/mnt/hdc/* /mnt/NewSlax/</strong></font>&nbsp; { This is where you will copy the entire SLAX Live env to the newly mounted partition }</li>
<li>Time to download the 3G Solaris Express nv97 image from <a href="http://opensolaris.org/os/downloads/sol_ex_dvd_1/" title="Solaris Express ">here</a>. Please make sure you save it into the IMAGES directory that you will create as so... <strong><font color="#0000ff">mkdir</font> <font color="#ff0000">/mnt/NewSlax/slax/IMAGES</font></strong>&nbsp; { This will take a while so spawn a new shell and contnue the following steps }</li>
<li><font color="#0000ff"><strong>cd</strong></font> <font color="#ff0000"><strong>/mnt/NewSlax/slax/modules/</strong></font>&nbsp; { Here you will change into the Live environment and change into the modules directory }
</li>
<li><font color="#0000ff"><strong>wget</strong></font> <strong><font color="#ff0000">http://www.slax.org/modules/618/dl/sshd-activate.lzm</font></strong>&nbsp; { Here we will download the sshd activate lzm compressed module, all this module contains is a sshd startup script so that sshd will start up by default as sshd comes with SLAX } </li>
<li><font color="#0000ff"><strong>cd</strong></font> <font color="#ff0000"><strong>~</strong></font>&nbsp; { We now change back into our home directory which is /root/ }</li>
<li><strong><font color="#0000ff">wget</font> <font color="#ff0000">http://carroll.cac.psu.edu/pub/linux/distributions/slackware/slackware-12.1/slackware/n/nfs-utils-1.1.2-i486-1.tgz</font></strong><br />
{ SLAX does not come with NFS support so we have to add it by downloading the slackware package of nfs-utils }
</li>
<li><strong><font color="#0000ff">wget</font> <font color="#ff0000">http://carroll.cac.psu.edu/pub/linux/distributions/slackware/slackware-12.1/slackware/n/portmap-6.0-i486-1.tgz</font></strong><br />
{ In order to install nfs-utils we will also need portmap for nfs to work }
</li>
<li><strong><font color="#0000ff">tgz2lzm</font> <font color="#ff0000">nfs-utils-1.1.2-i486-1.tgz</font> <font color="#ff0000">nfs-utils-1.1.2-i486-1.lzm</font></strong>&nbsp; { Time to convert the SLACKWARE tgz packaged nfs-utils using the custom built slax tool for converting slackware to lzm compressed modules for SLAX }
</li>
<li><strong><font color="#0000ff">tgz2lzm</font></strong> <font color="#ff0000"><strong>portmap-6.0-i486-1.tgz portmap-6.0-i486-1.lzm</strong></font> { repeating the same process above }
</li>
<li><strong><font color="#0000ff">mv</font> <font color="#ff0000">*.lzm /mnt/NewSlax/slax/modules/</font></strong>&nbsp; {Now we need to move the newly created LZM modules to the new live module directory in&nbsp; /mnt/NewSlax/slax/modules/ }
</li>
<li>Now it is time for us to create our own custom compressed module aka custom startup script. First thing to do is to create the directory structure of where you are going to place the files under the root aka '<strong>/</strong>' directory. </li>
<li><strong><font color="#0000ff">mkdir -p</font> <font color="#ff0000">MySampleRcScript/etc/rc.d/init.d</font></strong></li>
<li><strong><font color="#0000ff">mkdir -p</font> <font color="#ff0000">MySampleRcScript/etc/rc.d/rc3.d</font></strong></li>
<li><font color="#0000ff"><strong>cd</strong></font> <font color="#ff0000"><strong>MySampleRcScript/etc/rc.d/init.d/</strong></font></li>
<li><strong><font color="#0000ff">vi</font></strong> <font color="#ff0000"><strong>rc.mySampleRc</strong></font> { Here we need to create our startup script, in this startup script we will change the root password to test and the rest you can read off of the screenshot :) }<br />
<a href="http://www.linuxdynasty.org/images/stories/distros/slax/rc.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/rc.png" /></a></li>
<li><font color="#0000ff"><strong>cd</strong></font> <font color="#ff0000"><strong>../rc3.d/</strong></font></li>
<li><font color="#0000ff"><strong>ln -s</strong></font> <font color="#ff0000"><strong>../init.d/rc.mySampleRc SmySampleRc</strong><font color="#000000">&nbsp; { Here we will symlink the original script to the default run level rc3.d directory and make sure to append a capital S in front of the startup script so that when sysv runs it will catch that script and start up properly. }<br />
</font></font></li>
<li><font color="#0000ff"><strong>ln -s</strong></font> <font color="#ff0000"><strong>../init.d/rc.mySampleRc KmySampleRc </strong><font color="#000000">{ Same as above except to stop the script during the shutdown process. }</font><br />
</font></li>
<li><font color="#0000ff"><strong>cd ~ </strong><font color="#000000">{ We now will change back into the root directory so that we can prepare for the final stage of the module creation }</font><br />
</font></li>
<li><font color="#0000ff"><strong>dir2lzm</strong></font> <font color="#ff0000"><strong>MySampleRcScript MySampleModule.lzm&nbsp; </strong><font color="#000000">{ Final stage of the module creation.... the dir2lzm will take that directory structure and convert it into the lzm compressed module }</font><br />
</font></li>
<li><font color="#0000ff"><strong>cp</strong></font> <font color="#ff0000"><strong>MySampleModule.lzm /mnt/NewSlax/slax/modules/</strong></font> { Now we will copy the newly created module into the new live environment module directory }</li>
<li><strong><font color="#0000ff">cd</font> <font color="#ff0000">/mnt/NewSlax/slax/</font></strong>&nbsp; { we ar almost done, we will now change into the new live environment root directory and prepare for the final step }
</li>
<li><strong><font color="#0000ff">./make_iso.sh</font>&nbsp; <font color="#ff0000">/mnt/NewSlax/NewSlax.iso</font></strong> { At last the final step and all you need to do is run a simple script called make_iso.sh}</li>
<li><font color="#0000ff"><strong>ls -ltrh<font color="#ff0000"> ../</font></strong></font> { The image should be a little above 3Gigs which is good considering you have a 3Gig iso image and a liveDVD environment under one dvd. }</li>
</ol>
<p>&nbsp;</p>
<p><a href="http://www.linuxdynasty.org/images/stories/distros/slax/initial_boot.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/initial_boot.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step1.png" rel="shadowbox[0]"><img alt="" style="width: 274px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step1.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step3.png" rel="shadowbox[0]"><img alt="" style="width: 297px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step3.png" /></a></p>
<p><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step4.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step4.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step5.png" rel="shadowbox[0]"><img alt="" style="width: 274px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step5.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step6.png" rel="shadowbox[0]"><img alt="" style="width: 297px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step6.png" /></a></p>
<p><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step7.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step7.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step8.png" rel="shadowbox[0]"><img alt="" style="width: 274px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step8.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step9.png" rel="shadowbox[0]"><img alt="" style="width: 297px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step9.png" /></a></p>
<p><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step10.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step10.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step11.png" rel="shadowbox[0]"><img alt="" style="width: 274px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step11.png" /></a></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-08-26T15:13:51-04:00"><a href="http://127.0.0.1:4001/opensolaris-live-upgrade-howto/">August 26, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/opensolaris-live-upgrade-howto/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~10 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/opensolaris-live-upgrade-howto/" rel="bookmark" title="OpenSolaris Live Upgrade HowTo" itemprop="url">OpenSolaris Live Upgrade HowTo</a></h1>
    
  </header>
  <div class="entry-content">
    <p>In this HowTo I will do my best to introduce you to the Solaris Live Upgrade process. Recently, I have had to do this quite a bit and I figured why not and just write up a quick HowTo on this subject. As a few of you already know I am not a fan of OpenSolaris, though as of recent I am starting to get drawn into it. </p>
<p>One thing about the Live Upgrade process is that it allows you to have multiple BE's ( Bootable Environments ). This is so cool, since this allows you to have a CLEAN BE and the others to Test/Destroy/...Whatever. First things first you need to make sure that you have at least one available partition that is big enough to to transfer your current environment and enough space to do the Live Upgrade as well as have the OpenSolaris Express Image. OK, lets get into the Live Upgrade process....</p>
<p><a id="more"></a><a id="more-203"></a></p>
<p>&nbsp;</p>
<ol>
<li>Verify that you have at least ONE partition aka slice available...You will need to use the <font color="#0000ff"><strong>format</strong></font> command.<br />
Here is the example output...
<p></p>
<pre>bash-3.2# format<br /><br />Searching for disks...done<br />AVAILABLE DISK SELECTIONS:<br /><br />0. c0d0 &lt;DEFAULT cyl 9726 alt 2 hd 255 sec 63&gt;<br /><br />/pci@0,0/pci-ide@1f,1/ide@1/cmdk@0,0<br /><br />Specify disk (enter its number): 0<br /><br />selecting c0d0<br /><br />Controller working list found<br /><br />[disk formatted, defect list found]<br /><br />Warning: Current Disk has mounted partitions.<br /><br />/dev/dsk/c0d0s5 is in use for live upgrade /. Please see ludelete(1M).<br /><br />/dev/dsk/c0d0s1 is currently used by swap. Please see swap(1M).<br /><br />/dev/dsk/c0d0s6 is in use for live upgrade /var. Please see ludelete(1M).<br /><br />/dev/dsk/c0d0s4 is currently mounted on /backup. Please see umount(1M).<br /><br />/dev/dsk/c0d0s0 is currently mounted on /. Please see umount(1M).<br /><br />/dev/dsk/c0d0s3 is currently mounted on /var. Please see umount(1M).<br /><br />/dev/dsk/c0d0s7 is currently mounted on /export. Please see umount(1M).<br /></pre>
<p>

<li>Get the solexpress dvd iso image... I used solexpres95 &quot;<strong>sol-nv-b95-x86-dvd.iso</strong>&quot;</li>
<li>You now need to mount the OpenSolaris Image using lofiadm. The HowTo for that is here... <br />
<a href="http://www.linuxdynasty.org/how-to-mount-an-iso-image-under-solaris-or-opensolaris.html%20" title=""><br />
http://www.linuxdynasty.org/how-to-mount-an-iso-image-under-solaris-or-opensolaris.html </a></li>
<li>Run the <font color="#0000ff"><strong>lucreate</strong></font> command. This command will label the current BE ( Which is the default Environment you are logged into )using the <font color="#0000ff"><strong>-c</strong></font> option then you need to specify the mounts you want to use and on what partition you want them on using the <font color="#0000ff"><strong>-m</strong></font> option. Example below..
<p>


<pre>bash-3.2# <strong><font color="#0000ff">lucreate -c</font> <font color="#ff0000">solexpr81</font> <font color="#0000ff">-m</font> <font color="#ff0000">/:/dev/dsk/c0d0s5:ufs</font> <font color="#0000ff">-m</font> <font color="#ff0000">/var:/dev/dsk/c0d0s6:ufs</font> <font color="#0000ff">-n</font> <font color="#ff0000">solexpr95</font></strong><br /><br />Discovering physical storage devices<br /><br />Discovering logical storage devices<br /><br />Cross referencing storage devices with boot environment configurations<br /><br />Determining types of file systems supported<br /><br />Validating file system requests<br /><br />Preparing logical storage devices<br /><br />Preparing physical storage devices<br /><br />Configuring physical storage devices<br /><br />Configuring logical storage devices<br /><br />Analyzing system configuration.<br /><br />Comparing source boot environment &lt;solexpr81&gt; file systems with the file<br /><br />system(s) you specified for the new boot environment. Determining which<br /><br />file systems should be in the new boot environment.<br /><br />Updating boot environment description database on all BEs.<br /><br />Searching /dev for possible boot environment filesystem devices<br /><p>Updating system configuration files.<br /><br />The device &lt;/dev/dsk/c0d0s5&gt; is not a root device for any boot environment; cannot get BE ID.<br /><br />Creating configuration for boot environment &lt;solexpr9&gt;.<br /><br />Source boot environment is &lt;solexpr81&gt;.<br /><br />Creating boot environment &lt;solexpr9&gt;.<br /><br />Checking for GRUB menu on boot environment &lt;solexpr9&gt;.<br /><br />The boot environment &lt;solexpr9&gt; does not contain the GRUB menu.<br /><br />Creating file systems on boot environment &lt;solexpr9&gt;.<br /><br />Creating &lt;ufs&gt; file system for &lt;/&gt; in zone &lt;global&gt; on &lt;/dev/dsk/c0d0s5&gt;.<br /><br />Creating &lt;ufs&gt; file system for &lt;/var&gt; in zone &lt;global&gt; on &lt;/dev/dsk/c0d0s6&gt;.<br /><br />Mounting file systems for boot environment &lt;solexpr9&gt;.<br /><br />Calculating required sizes of file systems for boot environment &lt;solexpr9&gt;.<br /><br />Populating file systems on boot environment &lt;solexpr9&gt;.<br /><br />Checking selection integrity.<br /><br />Integrity check OK.<br /><br />Populating contents of mount point &lt;/&gt;.<br /><br />Populating contents of mount point &lt;/var&gt;.<br /><br />Copying.<br /><br />WARNING: The file &lt;/tmp/lucopy.errors.6170&gt; contains a list of &lt;6&gt;<br /><br />potential problems (issues) that were encountered while populating boot<br /><br />environment &lt;solexpr9&gt;.<br /><br />INFORMATION: You must review the issues listed in<br /><br />&lt;/tmp/lucopy.errors.6170&gt; and determine if any must be resolved. In<br /><br />general, you can ignore warnings about files that were skipped because<br /><br />they did not exist or could not be opened. You cannot ignore errors such<br /><br />as directories or files that could not be created, or file systems running<br /><br />out of disk space. You must manually resolve any such problems before you<br /><br />activate boot environment &lt;solexpr95&gt;.</p><p>Creating shared file system mount points.<br /><br />Copying root of zone &lt;logger&gt;.<br /><br />Copying root of zone &lt;zenoss&gt;.<br /><br />Copying root of zone &lt;ipf&gt;.<br /><br />Creating compare databases for boot environment &lt;solexpr95&gt;.<br /><br />Creating compare database for file system &lt;/var&gt;.<br /><br />Creating compare database for file system &lt;/&gt;.<br /><br />Updating compare databases on boot environment &lt;solexpr95&gt;.<br /><br />Making boot environment &lt;solexpr95&gt; bootable.<br /><br />Updating bootenv.rc on ABE &lt;solexpr95&gt;.<br /><br />Population of boot environment &lt;solexpr95&gt; successful.<br /><br />Creation of boot environment &lt;solexpr95&gt; successful.</p><br /></pre>
<p>&nbsp;</p>
<p>&nbsp; &nbsp;&nbsp; 6. Once the lucreate command finishes ( Takes about 15 to 30 minutes, at least for me it does), You now have to run the <font color="#0000ff"><strong>luupgrade</strong></font> command.<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The <font color="#0000ff"><strong>-u</strong></font> option stands for upgrand and the <font color="#0000ff"><strong>-n</strong></font> option stands for the name of the BE that you are upgrading and the <font color="#0000ff"><strong>-s</strong></font> options stands for <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the source image location that you are using.</p>
<p>&nbsp;</p>
<pre>bash-3.2# <font color="#0000ff"><strong>luupgrade</strong> </font><strong><font color="#0000ff">-u -n</font> <font color="#ff0000">solexpr95</font> <font color="#0000ff">-s</font> <font color="#ff0000">/mnt/</font></strong><br /><br />Copying failsafe kernel from media.<br /><br />Uncompressing miniroot<br /><br />Uncompressing miniroot archive (Part2)<br /><br />13364 blocks<br /><br />Creating miniroot device<br /><br />miniroot filesystem is &lt;ufs&gt;<br /><br />Mounting miniroot at &lt;/mnt//Solaris_11/Tools/Boot&gt;<br /><br />Mounting miniroot Part 2 at &lt;/mnt//Solaris_11/Tools/Boot&gt;<br /><br />Validating the contents of the media &lt;/mnt/&gt;.<br /><br />The media is a standard Solaris media.<br /><br />The media contains an operating system upgrade image.<br /><br />The media contains &lt;Solaris&gt; version &lt;11&gt;.<br /><br />Constructing upgrade profile to use.<br /><br />Locating the operating system upgrade program.<br /><br />Checking for existence of previously scheduled Live Upgrade requests.<br /><br />Creating upgrade profile for BE &lt;solexpr95&gt;.<br /><br />Checking for GRUB menu on ABE &lt;solexpr95&gt;.<br /><br />Checking for x86 boot partition on ABE.<br /><br />Determining packages to install or upgrade for BE &lt;solexpr95&gt;.<br /><br />Performing the operating system upgrade of the BE &lt;solexpr95&gt;.<br /><br />CAUTION: Interrupting this process may leave the boot environment unstable<br /><br />or unbootable.<br /><br /><br />Upgrading Solaris: 61% completed<br /><br /><br />Upgrading Solaris: 98% completed<br /><br /><br />Upgrading Solaris: 100% completed<br /><br />Installation of the packages from this media is complete.<br /><br />Deleted empty GRUB menu on ABE &lt;solexpr95&gt;.<br /><br />Adding operating system patches to the BE &lt;solexpr95&gt;.<br /><br />The operating system patch installation is complete.<br /><br />ABE boot partition backing deleted.<br /><br />Configuring failsafe for system.<br /><br />Failsafe configuration is complete.<br /><br />INFORMATION: The file &lt;/var/sadm/system/logs/upgrade_log&gt; on boot <br /><br />environment &lt;solexpr95&gt; contains a log of the upgrade operation.<br /><br />INFORMATION: The file &lt;/var/sadm/system/data/upgrade_cleanup&gt; on boot <br /><br />environment &lt;solexpr95&gt; contains a log of cleanup operations required.<br /><br />WARNING: &lt;6&gt; packages failed to install properly on boot environment &lt;solexpr95&gt;.<br /><br />INFORMATION: The file &lt;/var/sadm/system/data/upgrade_failed_pkgadds&gt; on <br /><br />boot environment &lt;solexpr95&gt; contains a list of packages that failed to <br /><br />upgrade or install properly.<br /><br />INFORMATION: Review the files listed above. Remember that all of the files <br /><br />are located on boot environment &lt;solexpr95&gt;. Before you activate boot <br /><br />environment &lt;solexpr95&gt;, determine if any additional system maintenance is <br /><br />required or if additional media of the software distribution must be <br /><br />installed.<br /><br />The Solaris upgrade of the boot environment &lt;solexpr95&gt; is partially complete.<br /><br />Installing failsafe<br /><br />Failsafe install is complete.<br /></pre>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; 7. Once the <font color="#0000ff"><strong>luupgrade</strong></font> finishes ( Which takes about 30 to 45 minutes, at least for me it does. ) You should now run <font color="#0000ff"><strong>lustatus</strong></font>, which as the name<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; suggest it will give you the status of the BE's. </p>
<p>&nbsp;</p>
<pre>bash-3.2# <font color="#0000ff"><strong>lustatus </strong></font><br /><br /><br />Boot Environment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Is&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Active Active&nbsp;&nbsp;&nbsp; Can&nbsp;&nbsp;&nbsp; Copy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /><br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Complete Now&nbsp;&nbsp;&nbsp; On Reboot Delete Status&nbsp;&nbsp;&nbsp; <br /><br />-------------------------- -------- ------ --------- ------ ----------<br /><br />solexpr81&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>yes</strong>&nbsp;&nbsp;&nbsp; <strong>yes</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; no&nbsp;&nbsp;&nbsp;&nbsp; -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /><br />solexpr95&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>no</strong>&nbsp;&nbsp;&nbsp;&nbsp; <strong>no</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yes&nbsp;&nbsp;&nbsp; -&nbsp; <br /><p>&nbsp;</p><p>&nbsp;</p></pre>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8. As you can see above solexpr81 which is the current BE is Active and is Active On Reboot as well. We need to change that so that<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; we can boot in to the new BE. We can do so by running <font color="#0000ff"><strong>luactivate</strong></font> and the BE name.</p>
<pre>&nbsp;</pre>
<p>&nbsp;</p>
<pre>bash-3.2# <strong><font color="#0000ff">luactivate</font> <font color="#ff0000">solexpr95</font></strong><br /><br />WARNING: &lt;6&gt; packages failed to install properly on boot environment &lt;solexpr95&gt;.<br /><br />INFORMATION: &lt;/var/sadm/system/data/upgrade_failed_pkgadds&gt; on boot<br /><br />environment &lt;solexpr95&gt; contains a list of packages that failed to upgrade<br /><br />or install properly. Review the file before you reboot the system to<br /><br />determine if any additional system maintenance is required.<br /><br /><br />Saving latest GRUB loader.<br /><br />Setting failsafe console to &lt;ttya&gt;.<br /><br />Generating partition and slice information for ABE &lt;solexpr95&gt;<br /><br />Boot menu exists.<br /><br />Generating direct boot menu entries for ABE.<br /><br />Generating direct boot menu entries for PBE.<br /><br /><br />**********************************************************************<br /><br /><br />The target boot environment has been activated. It will be used when you<br /><br />reboot. NOTE: You MUST NOT USE the reboot, halt, or uadmin commands. You<br /><br />MUST USE either the init or the shutdown command when you reboot. If you<br /><br />do not use either init or shutdown, the system will not boot using the<br /><br />target BE.<br /><br /><br />**********************************************************************<br /><br />In case of a failure while booting to the target BE, the following process<br /><br />needs to be followed to fallback to the currently working boot environment:<br /><br /><br />1. Do *not* change *hard* disk order in the BIOS.<br /><br /><br />2. Boot from the Solaris Install CD or Network and bring the system to<br /><br />Single User mode.<br /><br /><br />3. Mount the Parent boot environment root slice to some directory (like<br /><br />/mnt). You can use the following command to mount:<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp; mount -Fufs /dev/dsk/c0d0s0 /mnt<br /><br /><br />4. Run &lt;luactivate&gt; utility with out any arguments from the Parent boot<br /><br />environment root slice, as shown below:<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp; /mnt/sbin/luactivate<br /><br /><br />5. luactivate, activates the previous working boot environment and<br /><br />indicates the result.<br /><br /><br />6. Exit Single User mode and reboot the machine.<br /><br /><br />**********************************************************************<br /><br /><br />Modifying boot archive service<br /><br />GRUB menu is on device: &lt;/dev/dsk/c0d0s0&gt;.<br /><br />Filesystem type for menu device: &lt;ufs&gt;.<br /><br />Activation of boot environment &lt;solexpr95&gt; successful.</pre>
<p>&nbsp;</p>
<p>&nbsp; &nbsp;&nbsp; &nbsp; 9. Now when that command successfully completes and give you a bunch of good info that you should take note of. HINT HINT.... <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; If you run <font color="#0000ff"><strong>lustatus</strong></font> again the the ActiveOn Reboot should be no for solexpr81 and yes for solexpr95.</p>
<p>&nbsp;</p>
<pre>bash-3.2# <font color="#0000ff"><strong>lustatus </strong></font><br /><br /><br />Boot Environment&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Is&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Active Active&nbsp;&nbsp;&nbsp; Can&nbsp;&nbsp;&nbsp; Copy&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br /><br />Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Complete Now&nbsp;&nbsp;&nbsp; On Reboot Delete Status&nbsp;&nbsp; &nbsp;<br /><br />-------------------------- -------- ------ --------- ------ ----------<br /><br />solexpr81&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>yes</strong>&nbsp;&nbsp;&nbsp; <strong>no</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; no&nbsp;&nbsp;&nbsp;&nbsp; -&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<br /><br />solexpr95&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <strong>no</strong>&nbsp;&nbsp;&nbsp;&nbsp; <strong>yes</strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; no&nbsp;&nbsp;&nbsp;&nbsp; -&nbsp;&nbsp;&nbsp;&nbsp; </pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp; &nbsp; &nbsp; 10. Now I'm sure by now you are wondering, what are the 6 errors that the LiveUpgrade process keeps telling us about. <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; In order to check the errors we will need to mount the /var partition.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<pre>bash-3.2# <strong><font color="#0000ff">mount -F</font> <font color="#ff0000">ufs</font> <font color="#ff0000">/dev/dsk/c0d0s6 /luvar</font> </strong></pre>
<p></p>
<p>&nbsp; &nbsp; &nbsp; 11. We can now view the file by running the following below... </p>
<p>&nbsp;</p>
<pre>bash-3.2# <font color="#0000ff"><strong>cat</strong></font> <font color="#ff0000"><strong>/luvar/sadm/system/data/upgrade_failed_pkgadds </strong></font><br /><br /><br />SUNWmccom<br /><br />SUNWfirefox<br /><br />SUNWthunderbird<br /><br />SUNWrealplayer<br /><br />SUNWfsexam-root<br /><br />SUNWfsexam</pre>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp; 12. Since the packages above are not really important we can now reboot the system, using the following below.</p>
<pre>&nbsp;</pre>
<pre>bash-3.2# <span style="font-weight: bold"><font color="#0000ff">sync</font>;<font color="#0000ff">sync</font>;<font color="#0000ff">shutdown -y -g0 -i6</font></span><br /></pre>
<p>
&nbsp;</p>
</p></li></p></li></ol>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-08-20T15:05:41-04:00"><a href="http://127.0.0.1:4001/opensolaris-serial-console-howto/">August 20, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/opensolaris-serial-console-howto/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/opensolaris-serial-console-howto/" rel="bookmark" title="OpenSolaris serial console howto" itemprop="url">OpenSolaris serial console howto</a></h1>
    
  </header>
  <div class="entry-content">
    <p>The other day I was ripping at my hair because I could not figure out how to console into OpenSolaris on my X86 box at home. I had my serial connection connected correctly.... But, I just could not figure out what command to use to console into Solaris as I always used minicom for Linux.</p>
<p>After much searching I found the command <font color="#0000ff"><strong>tip</strong></font>, which is the Solaris command equivalent to Linux's <font color="#0000ff"><strong>minicom</strong></font>.&nbsp; The command <font color="#0000ff"><strong>tip</strong></font> is actually quite easy to use, you just need to know some basics and modify your <font color="#ff0000"><strong>/etc/remote</strong></font> configuration file if you are running on a x86 system.</p>
<p><a id="more"></a><a id="more-202"></a></p>
<p>Follow the steps below....</p>
<ol>
<li>Verify that you have configured your system so that it can be serial console into.. Here is a tutorial that I have created on how to setup serial console on Linux <br />
 ( <a href="(%20http://www.linuxdynasty.org/how-to-setup-serial-console-on-linux.html%20)" title="">http://www.linuxdynasty.org/how-to-setup-serial-console-on-linux.html</a> )
</li>
<li>Make sure you have a serial cable and that it is appropriately connected to what ever Unix/Linux server that you are using.
</li>
<li>Before modifying anything please make sure you are logged in as root or have sudo privileges.<br />
Example.. { <font color="#0000ff"><strong>su -</strong></font> } or { <font color="#0000ff"><strong>sudo su -</strong></font> } to gain root access.
</li>
<li>Modify <font color="#ff0000"><strong>/etc/remote</strong></font>&nbsp; by adding the line below into it... But before you add the line below into the <font color="#ff0000"><strong>/etc/remote file</strong></font>, you should understand why you are doing so. The reason is that by default Solaris install has a entry in <font color="#ff0000"><strong>/etc/remote</strong></font> that is called hardwire with almost the exact same entry as below except it is using Serial B instead of Serial A, and this is an issue if you are running on an x86 box with only one Serial connection. So by adding the below, this will fix your dillema. 
<pre>serial1:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :dv=/dev/term/a:br#9600:el=^C^S^Q^U^D:ie=%$:oe=^D:</pre>
</li>
<li>Now type the command <font color="#0000ff"><strong>tip</strong></font> with the entry name of the above... Example { <strong><font color="#0000ff">tip</font> <font color="#ff0000">serial1</font></strong> }
<pre>-bash-3.2$ tip ser1<br />connected<br /><br />opensolaris console login:</pre>
</li>
</ol>
<p>&nbsp;</p>
<p>You should now be at the login prompt of what ever Unix/Linux system you are trying to connect to. Here are some extra command sequences that are extremely helpful while using <font color="#0000ff"><strong>tip</strong></font>.. </p>
<ul>
<li>You can logout of a tip session by typing the following key sequence... { <font color="#0000ff"><strong>~~.</strong></font> }
<pre>opensolaris console login: ~<br /><br />[EOT]<br /></pre>
<p>

<li>You can transfer a file from the console session that you are connected to back to the system you are consoleing from like this.. { <font color="#0000ff"><strong>~t</strong></font> }
<pre>-bash-3.2$ tip ser1<br />connected<br />opensolaris console login: root<br />Password: <br />Last login: Wed Aug 20 07:37:46 on console<br />Sun Microsystems Inc.&nbsp;&nbsp; SunOS 5.11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; snv_95&nbsp; January 2008<br />You have mail.<br /># bash<br />bash-3.2# ls<br />WE_NEED<br />{ here is where you type ~t and will look like the following }<br />bash-3.2# ~[take] WE_NEED    <br />{ Once the lines stop increasing you can run ( ctrl+c ), <br />then you will see right after the line number the following below }<br />2 lines transferred in 51 seconds   <br />!<br />bash-3.2# <br /></pre>
</li>

</p></li></ul>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-08-13T18:59:44-04:00"><a href="http://127.0.0.1:4001/how-to-mount-an-iso-image-under-solaris-or-opensolaris/">August 13, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/how-to-mount-an-iso-image-under-solaris-or-opensolaris/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/how-to-mount-an-iso-image-under-solaris-or-opensolaris/" rel="bookmark" title="How to mount an ISO image under Solaris or OpenSolaris" itemprop="url">How to mount an ISO image under Solaris or OpenSolaris</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Whats up guys here is another quick and simple, yet necessary HowTo...&nbsp; Since as most of you know, I come from a Linux background and mounting an ISO image under linux is as simple as .... Ok, follow the link HAHAHAHA <a href="http://www.linuxdynasty.org/how-to-mount-an-iso-image-under-linux.html" title="">http://www.linuxdynasty.org/how-to-mount-an-iso-image-under-linux.html</a>.</p>
<p><a id="more"></a><a id="more-201"></a></p>
<p>For me it feels like Solaris tries to make our lives a tad bit more complicated then it needs to be by adding another step to mount an iso image and ahemm quite a few other things as well which I will not get into right now... </p>
<p>So in order to mount an ISO image under Solaris you will need to use the lofiadm command. The lofiadm command adminsters the loopback file driver aka <strong>lofi</strong>. lofi allows a file ( in this case an ISO image ) to be associated with a block device. That file then can be accessed though the block device ( such as a disk ).</p>
<p></p>
<ol>
<li>
<p><span>Here we use lofiadm to associate the file to a block device.. Example { &quot;<strong><font color="#0000ff">lofiadmin -a</font> <font color="#ff0000">/var/tmp/sol-nv-b95-x86-dvd.iso</font>&quot; </strong>}<br />
By default Solaris will use the next available block device, Example of the output of lofiadm { <font color="#ff0000"><strong>/dev/lofi/1</strong></font></span> }</p>
</li>
<li>You now can run <font color="#0000ff"><strong>lofiadm</strong></font> to verify that the block device was created successfully.. Example { &quot;<font color="#0000ff"><strong>lofiadm</strong></font>&quot; }
<p><span></span></p>
</li>
<li>
<p><span>Now you will need to mount the block device as ReadOnly and specify the File System.. Example { <strong>&quot;<font color="#0000ff">mount -o ro -F hsfs</font> /dev/lofi/1 <font color="#ff0000">/mnt</font></strong>&quot; }<br />
</span></p>
</li>
<li>
<p><span>Finally all you need or better yet may want to do is run a <br />
{ &quot;<font color="#0000ff"><strong>df -k</strong></font>&quot; or &quot;<font color="#0000ff"><strong>df -h</strong></font>&quot;&nbsp; To verify that the device is mounted and then run a &quot;<font color="#0000ff"><strong>ls</strong></font>&quot; to view the contents of the directory}<br />
</span></p>
</li>
</ol>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-08-13T18:38:31-04:00"><a href="http://127.0.0.1:4001/how-to-mount-an-iso-image-under-linux/">August 13, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/how-to-mount-an-iso-image-under-linux/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/how-to-mount-an-iso-image-under-linux/" rel="bookmark" title="How to mount an ISO image under Linux" itemprop="url">How to mount an ISO image under Linux</a></h1>
    
  </header>
  <div class="entry-content">
    <p><span>Another quick and dirty HowTo, this time we are showing you how to mount an ISO image under Linux. If you are just getting into Linux you will see that you will have to do this quite often as a Linux Admin/Engineer. In the example below I will use a CentOS ISO Image as an example.<br />
</span></p>
<p><a id="more"></a><a id="more-35"></a></p>
<ol>
<li>
<p><span>Make sure you are root or have root privileges.. Example { &quot;<font color="#0000ff"><strong>su -</strong></font>&quot; or &quot;<font color="#0000ff"><strong>sudo su -</strong></font>&quot; }</span></p>
</li>
<li>Make the directory where you want to mount the image to.. Example { &quot;<font color="#0000ff"><strong>mkdir</strong></font> <font color="#ff0000"><strong>/mnt/Centos5_2</strong></font>&quot; }
<p><span></span></p>
</li>
<li>
<p><span>Mount the image under the directory you created under the previous step.. Example { &quot;<strong><font color="#0000ff">mount -o loop</font> CentOS-5.2-i386-netinstall.iso <font color="#ff0000">/mnt/Centos5_2/</font></strong>&quot; }</span></p>
</li>
<li><span>Now you can verify that the ISO image is mounted under&nbsp; </span><span><strong><font color="#ff0000">/mnt/Centos5_2/</font></strong>... Example { &quot;<font color="#0000ff"><strong>df -h&quot;</strong></font> or &quot;<font color="#0000ff"><strong>ls</strong></font> </span><span><strong><font color="#ff0000">/mnt/Centos5_2/</font></strong></span><span>&quot; or &quot;<font color="#0000ff"><strong>cd</strong></font> </span><span><strong><font color="#ff0000">/mnt/Centos5_2/</font></strong></span><span>&quot; }</span></li>
</ol>
<p><span>So here is the syntax with out the explanation...</span></p>
<ol>
<li><span>&quot;<font color="#0000ff"><strong>su -</strong></font>&quot; or &quot;<font color="#0000ff"><strong>sudo su -</strong></font>&quot; </span></li>
<li><span></span><span> </span>&quot;<font color="#0000ff"><strong>mkdir</strong></font> <font color="#ff0000"><strong>/mnt/Centos5_2</strong></font>&quot; </li>
<li><span>&quot;<strong><font color="#0000ff">mount -o loop</font> CentOS-5.2-i386-netinstall.iso <font color="#ff0000">/mnt/Centos5_2/</font></strong>&quot;</span></li>
<li><span>&quot;<font color="#0000ff"><strong>df -h&quot;</strong></font> or &quot;<font color="#0000ff"><strong>ls</strong></font> </span><span><strong><font color="#ff0000">/mnt/Centos5_2/</font></strong></span><span>&quot; or &quot;<font color="#0000ff"><strong>cd</strong></font> </span><span><strong><font color="#ff0000">/mnt/Centos5_2/</font></strong></span><span> and then run a &quot;<font color="#0000ff"><strong>ls</strong></font>&quot; &quot;</span></li>
</ol>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    
      <a href="http://127.0.0.1:4001/page14" class="btn">Previous</a>
    
  
  <ul class="inline-list">
    <li>
      
        <a href="http://127.0.0.1:4001">1</a>
      
    </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page2">2</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page3">3</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page4">4</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page5">5</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page6">6</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page7">7</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page8">8</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page9">9</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page10">10</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page11">11</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page12">12</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page13">13</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page14">14</a>
        
      </li>
    
      <li>
        
          <span class="current-page">15</span>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page16">16</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page17">17</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page18">18</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page19">19</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page20">20</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page21">21</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page22">22</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page23">23</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page24">24</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page25">25</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page26">26</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page27">27</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page28">28</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page29">29</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page30">30</a>
        
      </li>
    
  </ul>
  
    <a href="http://127.0.0.1:4001/page16" class="btn">Next</a>
  
</div><!-- /.pagination -->

</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Allen Sanabria. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://127.0.0.1:4001/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://127.0.0.1:4001/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2333243-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>

          

</body>
</html>