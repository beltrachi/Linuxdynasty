<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>HowTo Remaster a LiveCD or LiveDVD using SLAX &#8211; Linuxdynasty</title>
<meta name="description" content="Scripting, Programing, Automation, Integration, Monitoring, and Projects...">
<meta name="keywords" content="Advance Linux HowTo's, HowTo Remaster a LiveCD or LiveDVD using SLAX">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://127.0.0.1:4001/images/">
<meta name="twitter:title" content="HowTo Remaster a LiveCD or LiveDVD using SLAX">
<meta name="twitter:description" content="Scripting, Programing, Automation, Integration, Monitoring, and Projects...">
<meta name="twitter:creator" content="@linuxdynasty">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="HowTo Remaster a LiveCD or LiveDVD using SLAX">
<meta property="og:description" content="Scripting, Programing, Automation, Integration, Monitoring, and Projects...">
<meta property="og:url" content="http://127.0.0.1:4001/howto-remaster-a-livecd-or-livedvd-using-slax/">
<meta property="og:site_name" content="Linuxdynasty">





<link rel="canonical" href="http://127.0.0.1:4001/howto-remaster-a-livecd-or-livedvd-using-slax/">
<link href="http://127.0.0.1:4001/feed.xml" type="application/atom+xml" rel="alternate" title="Linuxdynasty Feed">
<link rel="author" href="https://google.com/+yourid?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://127.0.0.1:4001/assets/css/main.min.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://127.0.0.1:4001/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://127.0.0.1:4001/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://127.0.0.1:4001/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://127.0.0.1:4001/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://127.0.0.1:4001/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://127.0.0.1:4001/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://127.0.0.1:4001/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" >

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://127.0.0.1:4001">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://127.0.0.1:4001/images/avatar.jpg" alt="Allen Sanabria photo" class="author-photo">
					<h4>Allen Sanabria</h4>
					<p>Your bio goes here. It shouldn't be super long but a good two sentences or two should suffice.</p>
				</li>
				<li><a href="http://127.0.0.1:4001/about/">Learn More</a></li>
				<li>
					<a href="mailto:you@email.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/linuxdynasty"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+yourid"><i class="fa fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="http://linkedin.com/in/linuxdynasty"><i class="fa fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/linuxdynasty"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://127.0.0.1:4001/posts/">All Posts</a></li>
				<li><a href="http://127.0.0.1:4001/tags/">All Tags</a></li>
			</ul>
		</li>
		<li><a href="http://127.0.0.1:4001/theme-setup">Theme Setup</a></li><li><a href="http://mademistakes.com" target="_blank">External Link</a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->




<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="http://127.0.0.1:4001/howto-remaster-a-livecd-or-livedvd-using-slax/" rel="bookmark" title="HowTo Remaster a LiveCD or LiveDVD using SLAX">HowTo Remaster a LiveCD or LiveDVD using SLAX</a></h1>
        
        <h2>September 16, 2008</h2>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~6 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <p>The other day I had to come up with a way to transfer a Solaris Express nv97 DVD 3G image to remote locations while not using the network. The reason for this is, I needed to perform a LiveUpgrade on over 700 boxes and each being at a different locations. So I said to myself I guess I can put this image on a custom LiveDVD... But then I said to myself, which Linux LiveCD/DVD distro will I use???? It has to be small enough so that I can fit the Solaris Express nv97 image as well as the LiveCD Image. </p>
<p><a id="more"></a><a id="more-19"></a></p>
<p>I thought to first use Knoppix or Puppet Linux or even DSL Linux.. But after going through there documentation I was like ok, this is getting confusing!!! I decided to try first Knoppix and let me tell you during the compression phase it failed every time. Then I was on my way to try Puppy Linux, but right before I did that I ran into SLAX Linux. And I am so glad that I did! The instructions were straight to the pointand not to metnion easy to read.</p>
<p>So in this HowTo I will show you how to remaster your own LiveCD/DVD image using SLAX and some of the cool things that you can do with SLAX. All comments are appreciated and if you found this HowTo helpful then please digg and leave a comment. Thank You.</p>
<p>&nbsp;</p>
<p>I would suggest that you have either VirtualBox or VMware installed so you can do all your testing on VirtualMachines.</p>
<p>Requirements for me for this project were....</p>
<ul>
<li>Solaris Express nv97 DVD Image must fit on LiveDVD</li>
<li>sshd needs to be started with a valid root password</li>
<li>The Image needs to be shared via NFS</li>
</ul>
<p>&nbsp;&nbsp;<br />
&nbsp;</p>
<p>This HowTo makes some assumptions...</p>
<ul>
<li>You have used Linux before and understand how to use a terminal</li>
<li>You have used either VirtualBox or VMware Workstation&nbsp;</li>
<li>Create a VirtualDisk of at least 10G for this example... Now normally this all really depends on how many extra packages you want and files you want to addto the live Image that you are creating.
</li>
</ul>
<p>The first thing that you need to do is to download SLAX from this link&nbsp;<a href="http://www.slax.org/get_slax.php" title="">SLAX</a>. Now using either <a href="http://www.virtualbox.org/wiki/Downloads" title="Download VirtualBox">VirtualBox</a> or <a href="http://www.vmware.com/products/ws/" title="Download Free Trial of Vmware">Vmware</a>, boot into SLAX using the ISO image you downloaded. Once you are logged into the system you will follow the steps below...</p>
<ol>
<li><font color="#0000ff"><strong>fdisk -l</strong></font>&nbsp;&nbsp;&nbsp; { The reason for this command is that you want to see what available disk you have to use for this LiveDVD }
</li>
<li><strong><font color="#0000ff">fdisk</font> <font color="#ff0000">/dev/sda</font></strong>&nbsp; { This command you will use to create the partition you want to use }
</li>
<li><strong><font color="#0000ff">mkfs.ext3</font> <font color="#ff0000">/dev/sda1</font></strong> { This command will create the ext3 filesystem on /dev/sda1 }
</li>
<li><font color="#0000ff"><strong>fdisk -l&nbsp;</strong></font>&nbsp; { This command will show you the available partition that you just created above }
</li>
<li><strong><font color="#0000ff">mkdir</font> <font color="#ff0000">/mnt/NewSlax</font></strong>&nbsp;&nbsp; { here you will create the directorywhere you will mount the newly created filesystem }
</li>
<li><strong><font color="#0000ff">mount</font> <font color="#ff0000">/dev/sda1 /mnt/NewSlax/</font></strong>&nbsp; { Here you will mount the newly created filesystem on /mnt/NewSlax }
</li>
<li><font color="#0000ff"><strong>df -h</strong></font>&nbsp; { Here you will see the newly mounted drive and where it is mounted }
</li>
<li><font color="#0000ff"><strong>cp -rfpa</strong></font> <font color="#ff0000"><strong>/mnt/live/mnt/hdc/* /mnt/NewSlax/</strong></font>&nbsp; { This is where you will copy the entire SLAX Live env to the newly mounted partition }</li>
<li>Time to download the 3G Solaris Express nv97 image from <a href="http://opensolaris.org/os/downloads/sol_ex_dvd_1/" title="Solaris Express ">here</a>. Please make sure you save it into the IMAGES directory that you will create as so... <strong><font color="#0000ff">mkdir</font> <font color="#ff0000">/mnt/NewSlax/slax/IMAGES</font></strong>&nbsp; { This will take a while so spawn a new shell and contnue the following steps }</li>
<li><font color="#0000ff"><strong>cd</strong></font> <font color="#ff0000"><strong>/mnt/NewSlax/slax/modules/</strong></font>&nbsp; { Here you will change into the Live environment and change into the modules directory }
</li>
<li><font color="#0000ff"><strong>wget</strong></font> <strong><font color="#ff0000">http://www.slax.org/modules/618/dl/sshd-activate.lzm</font></strong>&nbsp; { Here we will download the sshd activate lzm compressed module, all this module contains is a sshd startup script so that sshd will start up by default as sshd comes with SLAX } </li>
<li><font color="#0000ff"><strong>cd</strong></font> <font color="#ff0000"><strong>~</strong></font>&nbsp; { We now change back into our home directory which is /root/ }</li>
<li><strong><font color="#0000ff">wget</font> <font color="#ff0000">http://carroll.cac.psu.edu/pub/linux/distributions/slackware/slackware-12.1/slackware/n/nfs-utils-1.1.2-i486-1.tgz</font></strong><br />
{ SLAX does not come with NFS support so we have to add it by downloading the slackware package of nfs-utils }
</li>
<li><strong><font color="#0000ff">wget</font> <font color="#ff0000">http://carroll.cac.psu.edu/pub/linux/distributions/slackware/slackware-12.1/slackware/n/portmap-6.0-i486-1.tgz</font></strong><br />
{ In order to install nfs-utils we will also need portmap for nfs to work }
</li>
<li><strong><font color="#0000ff">tgz2lzm</font> <font color="#ff0000">nfs-utils-1.1.2-i486-1.tgz</font> <font color="#ff0000">nfs-utils-1.1.2-i486-1.lzm</font></strong>&nbsp; { Time to convert the SLACKWARE tgz packaged nfs-utils using the custom built slax tool for converting slackware to lzm compressed modules for SLAX }
</li>
<li><strong><font color="#0000ff">tgz2lzm</font></strong> <font color="#ff0000"><strong>portmap-6.0-i486-1.tgz portmap-6.0-i486-1.lzm</strong></font> { repeating the same process above }
</li>
<li><strong><font color="#0000ff">mv</font> <font color="#ff0000">*.lzm /mnt/NewSlax/slax/modules/</font></strong>&nbsp; {Now we need to move the newly created LZM modules to the new live module directory in&nbsp; /mnt/NewSlax/slax/modules/ }
</li>
<li>Now it is time for us to create our own custom compressed module aka custom startup script. First thing to do is to create the directory structure of where you are going to place the files under the root aka '<strong>/</strong>' directory. </li>
<li><strong><font color="#0000ff">mkdir -p</font> <font color="#ff0000">MySampleRcScript/etc/rc.d/init.d</font></strong></li>
<li><strong><font color="#0000ff">mkdir -p</font> <font color="#ff0000">MySampleRcScript/etc/rc.d/rc3.d</font></strong></li>
<li><font color="#0000ff"><strong>cd</strong></font> <font color="#ff0000"><strong>MySampleRcScript/etc/rc.d/init.d/</strong></font></li>
<li><strong><font color="#0000ff">vi</font></strong> <font color="#ff0000"><strong>rc.mySampleRc</strong></font> { Here we need to create our startup script, in this startup script we will change the root password to test and the rest you can read off of the screenshot :) }<br />
<a href="http://www.linuxdynasty.org/images/stories/distros/slax/rc.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/rc.png" /></a></li>
<li><font color="#0000ff"><strong>cd</strong></font> <font color="#ff0000"><strong>../rc3.d/</strong></font></li>
<li><font color="#0000ff"><strong>ln -s</strong></font> <font color="#ff0000"><strong>../init.d/rc.mySampleRc SmySampleRc</strong><font color="#000000">&nbsp; { Here we will symlink the original script to the default run level rc3.d directory and make sure to append a capital S in front of the startup script so that when sysv runs it will catch that script and start up properly. }<br />
</font></font></li>
<li><font color="#0000ff"><strong>ln -s</strong></font> <font color="#ff0000"><strong>../init.d/rc.mySampleRc KmySampleRc </strong><font color="#000000">{ Same as above except to stop the script during the shutdown process. }</font><br />
</font></li>
<li><font color="#0000ff"><strong>cd ~ </strong><font color="#000000">{ We now will change back into the root directory so that we can prepare for the final stage of the module creation }</font><br />
</font></li>
<li><font color="#0000ff"><strong>dir2lzm</strong></font> <font color="#ff0000"><strong>MySampleRcScript MySampleModule.lzm&nbsp; </strong><font color="#000000">{ Final stage of the module creation.... the dir2lzm will take that directory structure and convert it into the lzm compressed module }</font><br />
</font></li>
<li><font color="#0000ff"><strong>cp</strong></font> <font color="#ff0000"><strong>MySampleModule.lzm /mnt/NewSlax/slax/modules/</strong></font> { Now we will copy the newly created module into the new live environment module directory }</li>
<li><strong><font color="#0000ff">cd</font> <font color="#ff0000">/mnt/NewSlax/slax/</font></strong>&nbsp; { we ar almost done, we will now change into the new live environment root directory and prepare for the final step }
</li>
<li><strong><font color="#0000ff">./make_iso.sh</font>&nbsp; <font color="#ff0000">/mnt/NewSlax/NewSlax.iso</font></strong> { At last the final step and all you need to do is run a simple script called make_iso.sh}</li>
<li><font color="#0000ff"><strong>ls -ltrh<font color="#ff0000"> ../</font></strong></font> { The image should be a little above 3Gigs which is good considering you have a 3Gig iso image and a liveDVD environment under one dvd. }</li>
</ol>
<p>&nbsp;</p>
<p><a href="http://www.linuxdynasty.org/images/stories/distros/slax/initial_boot.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/initial_boot.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step1.png" rel="shadowbox[0]"><img alt="" style="width: 274px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step1.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step3.png" rel="shadowbox[0]"><img alt="" style="width: 297px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step3.png" /></a></p>
<p><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step4.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step4.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step5.png" rel="shadowbox[0]"><img alt="" style="width: 274px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step5.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step6.png" rel="shadowbox[0]"><img alt="" style="width: 297px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step6.png" /></a></p>
<p><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step7.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step7.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step8.png" rel="shadowbox[0]"><img alt="" style="width: 274px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step8.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step9.png" rel="shadowbox[0]"><img alt="" style="width: 297px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step9.png" /></a></p>
<p><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step10.png" rel="shadowbox[0]"><img alt="" style="width: 289px; height: 223px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step10.png" /></a><a href="http://www.linuxdynasty.org/images/stories/distros/slax/step11.png" rel="shadowbox[0]"><img alt="" style="width: 274px; height: 224px" src="http://www.linuxdynasty.org/images/stories/distros/slax/step11.png" /></a></p>

      <footer class="entry-meta">
        <span class="entry-tags"><a href="http://127.0.0.1:4001/tags/#Advance Linux HowTo's" title="Pages tagged Advance Linux HowTo's" class="tag">Advance Linux HowTo's</a><a href="http://127.0.0.1:4001/tags/#HowTo Remaster a LiveCD or LiveDVD using SLAX" title="Pages tagged HowTo Remaster a LiveCD or LiveDVD using SLAX" class="tag">HowTo Remaster a LiveCD or LiveDVD using SLAX</a></span>
        <span><a href="http://127.0.0.1:4001/howto-remaster-a-livecd-or-livedvd-using-slax/" rel="bookmark" title="HowTo Remaster a LiveCD or LiveDVD using SLAX">HowTo Remaster a LiveCD or LiveDVD using SLAX</a> was published on <span class="entry-date date published updated"><time datetime="2008-09-16T19:20:37-04:00">September 16, 2008</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>
        
      </footer>
    </div><!-- /.entry-content -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
    
    <div class="read-more">
      
        <div class="read-more-header">
          <a href="http://127.0.0.1:4001/opensolaris-live-upgrade-howto/" class="read-more-btn">Read More</a>
        </div><!-- /.read-more-header -->
        <div class="read-more-content">
          <h3><a href="http://127.0.0.1:4001/jekyll/update/welcome-to-jekyll/" title="Welcome to Jekyll!">Welcome to Jekyll!</a></h3>
          <p>You’ll find this post in your `_posts` directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the sit...&hellip; <a href="http://127.0.0.1:4001/jekyll/update/welcome-to-jekyll/">Continue reading</a></p>
        </div><!-- /.read-more-content -->
      
      <div class="read-more-list">
        
          <div class="list-item">
            <h4><a href="http://127.0.0.1:4001/blog/years-silence/" title="Two years of silence">Two years of silence</a></h4>
            <span>Published on June 14, 2014</span>
          </div><!-- /.list-item -->
        
          <div class="list-item">
            <h4><a href="http://127.0.0.1:4001/trouble-getting-a-script/" title="Trouble getting a script...">Trouble getting a script...</a></h4>
            <span>Published on November 11, 2012</span>
          </div><!-- /.list-item -->
        
      </div><!-- /.read-more-list -->
      
    </div><!-- /.read-more -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Allen Sanabria. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://127.0.0.1:4001/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://127.0.0.1:4001/assets/js/scripts.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'linuxdynasty'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>	        

</body>
</html>
