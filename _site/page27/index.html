<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Linuxdynasty</title>
<meta name="description" content="What I am up too.">
<meta name="keywords" content="Python, GoLang, automation, scripting, programming, vFense, metrics, monitoring">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://127.0.0.1:4001/images/abstract-1.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="What I am up too.">
<meta name="twitter:creator" content="@linuxdynasty">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="What I am up too.">
<meta property="og:url" content="http://127.0.0.1:4001/page27/index.html">
<meta property="og:site_name" content="Linuxdynasty">





<link rel="canonical" href="http://127.0.0.1:4001/page27/">
<link href="http://127.0.0.1:4001/feed.xml" type="application/atom+xml" rel="alternate" title="Linuxdynasty Feed">
<link rel="author" href="https://google.com/+AllenSanabria?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://127.0.0.1:4001/assets/css/main.min.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://127.0.0.1:4001/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://127.0.0.1:4001/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://127.0.0.1:4001/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://127.0.0.1:4001/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://127.0.0.1:4001/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://127.0.0.1:4001/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://127.0.0.1:4001/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://127.0.0.1:4001">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://127.0.0.1:4001/images/avatar.jpg" alt="Allen Sanabria photo" class="author-photo">
					<h4>Allen Sanabria</h4>
					<p>DevOps developer who loves programming, monitoring, automation, and metrics.</p>
				</li>
				<li><a href="http://127.0.0.1:4001/about/">Learn More</a></li>
				<li>
					<a href="mailto:asanabria <@> linuxdynasty dot org"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/linuxdynasty"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+AllenSanabria"><i class="fa fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="http://linkedin.com/in/linuxdynasty"><i class="fa fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/linuxdynasty"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://127.0.0.1:4001/posts/">All Posts</a></li>
				<li><a href="http://127.0.0.1:4001/tags/">All Tags</a></li>
			</ul>
		</li>
		<li><a href="http://127.0.0.1:4001"></a></li><li><a href="http://127.0.0.1:4001"></a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="http://127.0.0.1:4001/images/abstract-1.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Linuxdynasty</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-02-10T23:50:06-05:00"><a href="http://127.0.0.1:4001/ldap-client-how-to/">February 10, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/ldap-client-how-to/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/ldap-client-how-to/" rel="bookmark" title="LDAP Client How To" itemprop="url">LDAP Client How To</a></h1>
    
  </header>
  <div class="entry-content">
    <p><strong><span style="color: red"> In this tutorial we will show you how to authenticate to a already configured ldap server</span></strong></p>
<ol>
<li>This file <span style="color: blue">&quot;<strong>/etc/ldap.conf</strong>&quot;</span> is the 1st file that has to be modified as this is the file that tells the system which ldap server to authenticate too.
<pre><br />host yourdomain.com<br />base dc=yourdomain,dc=com<br />uri ldap://yourdomain.com/<br />ldap_version 3<br />rootbinddn cn=Manager,dc=yourdomain,dc=com<br />scope sub<br />timelimit 5<br />bind_timelimit 5<br />nss_reconnect_tries 2<br />pam_login_attribute uid<br />pam_member_attribute gid<br />pam_password md5<br />pam_password exop<br />nss_base_passwd		ou=People,dc=yourdomain,dc=com<br />nss_base_shadow		ou=People,dc=yourdomain,dc=com<br />  </pre>
</li>
<li>Now we have to add the passwd in this file <span style="color: blue">&quot;<strong>/etc/ldap.secret</strong>&quot;</span> so that we can authenticate to the ldap server
<pre>password</pre>
</li>
<li>Now we have to modify this file <span style="color: blue">&quot;<strong>/etc/nsswitch.conf</strong>&quot;</span>
<pre><br />passwd:         files ldap<br />group:          files ldap<br />hosts:          dns ldap<br />services:   ldap [NOTFOUND=return] files<br />networks:   ldap [NOTFOUND=return] files<br />protocols:  ldap [NOTFOUND=return] files<br />rpc:        ldap [NOTFOUND=return] files<br />ethers:     ldap [NOTFOUND=return] files<br />netmasks:   files<br />bootparams: files<br />publickey:  files<br />automount:  files<br />sendmailvars:   files<br />netgroup:   ldap [NOTFOUND=return] files<br />  </pre>
</li>
<li>Now it is time to modify the files in /etc/pam.d/ directory.<br />
First file to be modified is <span style="color: blue">&quot;<strong>/etc/pam.d/login</strong>&quot;</span>
<table border="0">
<tbody>
<tr>
<td width="100">auth</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">account</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">password</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">session</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
</tbody>
</table>
<pre><br />auth            requisite       pam_securetty.so<br />auth            requisite       pam_nologin.so<br />auth            sufficient      pam_ldap.so<br />auth            required        pam_unix.so use_first_pass<br />auth            required        pam_tally.so onerr=succeed file=/var/log/faillog<br />account         required        pam_access.so<br />account         required        pam_time.so<br />account         required        pam_unix.so<br />account         sufficient      pam_ldap.so <br />password        sufficient      pam_ldap.so<br />session         required        pam_mkhomedir.so skel=/etc/skel/ umask=0022<br />session         required        pam_unix.so<br />session         required        pam_env.so<br />session         required        pam_motd.so<br />session         required        pam_limits.so<br />session         optional        pam_mail.so dir=/var/spool/mail standard<br />session         sufficient      pam_ldap.so <br />session         optional        pam_lastlog.so<br />  </pre>
</li>
<li>Now we modify <span style="color: blue">&quot;<strong>/etc/pam.d/shadow</strong>&quot;</span><br />
<table border="0">
<tbody>
<tr>
<td width="100">auth</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">account</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">password</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">session</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
</tbody>
</table>
<pre><br />auth            sufficient      pam_rootok.so<br />auth            required        pam_unix.so<br />auth            sufficient      pam_ldap.so use_first_pass<br />account         required        pam_unix.so<br />account         sufficient      pam_ldap.so<br />session         required        pam_unix.so<br />session         sufficient      pam_ldap.so<br />password        sufficient      pam_ldap.so<br />password        required        pam_permit.so<br />  </pre>
</li>
<li>Now we modify <span style="color: blue">&quot;<strong>/etc/pam.d/passwd</strong>&quot;</span><br />
<table border="0">
<tbody>
<tr>
<td width="100">password</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
</tbody>
</table>
<pre><br />password        sufficient      pam_ldap.so <br />password        required        pam_unix.so shadow nullok<br />  </pre>
</li>
<li>Now we modify <span style="color: blue">&quot;<strong>/etc/pam.d/su</strong>&quot;</span><br />
<table border="0">
<tbody>
<tr>
<td width="100">auth</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">account</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">session</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
</tbody>
</table>
<pre><br />auth            sufficient      pam_ldap.so<br />auth            sufficient      pam_rootok.so<br />auth            required        pam_unix.so use_first_pass<br />account         sufficient      pam_ldap.so<br />account         required        pam_unix.so<br />session         sufficient      pam_ldap.so<br />session         required        pam_unix.so<br />  </pre>
</li>
<li>Now we modify <span style="color: blue">&quot;<strong>/etc/pam.d/sudo</strong>&quot;</span><br />
<table border="0">
<tbody>
<tr>
<td width="100">auth</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
</tbody>
</table>
<pre><br />auth            sufficient      pam_ldap.so<br />auth            required        pam_unix.so use_first_pass<br />auth            required        pam_nologin.so<br />  </pre>
</li>
<li>In this file <span style="color: blue">&quot;<strong>/etc/pam.d/sshd</strong>&quot;</span> you have to add 3 entries, one for auth, one for account, and one for session.<br />
<table border="0">
<tbody>
<tr>
<td width="100">auth</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">account</td>
<td width="100">sufficient</td>
<td width="300">pam_ldap.so</td>
</tr>
<tr>
<td width="100">password</td>
<td width="100">required</td>
<td width="300">pam_ldap.so</td>
</tr>
</tbody>
</table>
<pre><br />auth            required        pam_nologin.so<br />auth            sufficient      pam_ldap.so <br />auth            required        pam_env.so<br />auth            required        pam_unix.so use_first_pass<br />account         sufficient      pam_ldap.so<br />account         required        pam_unix.so<br />account         required        pam_time.so<br />password        required        pam_ldap.so <br />password        required        pam_unix.so<br />session         required        pam_mkhomedir.so skel=/etc/skel/ umask=0022<br />session         required        pam_unix_session.so<br />session         sufficient      pam_ldap.so <br />session         required        pam_limits.so<br />  </pre>
</li>
</ol>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-02-10T23:45:47-05:00"><a href="http://127.0.0.1:4001/how-to-log-in-iptables/">February 10, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/how-to-log-in-iptables/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/how-to-log-in-iptables/" rel="bookmark" title="How to log in IPTABLES" itemprop="url">How to log in IPTABLES</a></h1>
    
  </header>
  <div class="entry-content">
    <p><span style="color: red"><strong>Welcome again to LinuxDynasty.org. In this quick how to, we are going to show you how to get iptables to log when it drops packets</strong>.</span></p>
<ol>
<li>
<ul><strong>In the previous tutorial <a href="SSH_Blocking+-+How_to_block_ssh_attacks_using_iptables">SSH BLOCKING HOW TO</a> we showed you how to drop those pesky ssh attacks, well int his tutorial we are going to show you how to log those attacks. If you have not read the previous tutorial, then please read it now as I am not going to reexplain the options I used for blocking ssh attacks</strong>
<li>Before we get into the iptables rules, lets make sure that what we are doing is going to log. First lets open up &quot;<strong><span style="color: blue">/etc/syslog.conf</span></strong>&quot; and add this entry
<pre><br />kern.*                          /var/log/firewall.log<br />  </pre>
</li>
<li>Now restart your syslog daemon.. &quot;<strong><span style="color: blue">/etc/init.d/syslog restart</span></strong>&quot; (This is ofcourse assuming you are using Fedora or any other redhat base linux) </li>
<li><strong><span style="color: blue">iptables -A INPUT -i eth0 -p tcp -m tcp --dport 22 -m state --state NEW -m recent --set --name ssh_attempt --rsource -j LOG --log-prefix &quot;SSH connection attempt: &quot;</span></strong> </li>
<li>As you can see this &quot;<span style="color: blue"><strong>-j LOG --log-prefix &quot;SSH connection attempt</strong>: &quot;</span>&quot;  was appended to our previous <a href="SSH_Blocking+-+How_to_block_ssh_attacks_using_iptables">SSH BLOCKING HOW TO</a>. This is essentially logging all ssh attempts.</li>
<li>&quot;<strong><span style="color: blue">-j LOG</span></strong>&quot; This means to jump to the LOG chain in iptables. </li>
<li>&quot;<span style="color: blue"><strong>--log-prefix &quot;SSH connection attempt</strong>: &quot;</span>&quot; This is labeling the log with SSH connection attempt: &quot;.</li>
</ul>
</li>
<li>
<ul><strong>That was basic logging, now we will get into some more options in logging.</strong>
<li>Now lets say you want your logging to be more verbose. In iptables we can fix that by adding this entry in the rule.. <strong><span style="color: blue">--log-level 7</span></strong>. This is the highest level of logging (DEBUG LEVEL). </li>
<li>Now what if you logs are getting saturated by the second and overwhelming your processor? Well we can add limits also. Here is an example <strong><span style="color: blue">-m limit --limit 2/second --limit-burst 5</span></strong>. This will limit the logging to 2 entries per second and a max of 5 packets per second. </li>
</ul>
</li>
<li>
<ul><strong>So if we put it all together it would look like this..</strong>
<li><strong><span style="color: blue">iptables -A INPUT -i eth0 -p tcp -m tcp --dport 22 -m state --state NEW -m recent --set --name ssh_attempt --rsource -j LOG --log-level 7 -m limit --limit 2/second --limit-burst 5 --log-prefix &quot;SSH connection attempt: &quot;</span></strong></li>
</ul>
</li>
</ol>
<p><strong>There are a few more options that we can discuss on logging. If anybody wants to see them just leave a comment. If you liked the tutorial also please leave a comment. I will be adding a ULOG howto in the next day or so, which is my preferred way to log in iptables.</strong></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-02-10T23:43:44-05:00"><a href="http://127.0.0.1:4001/how-to-change-duplexingspeed/">February 10, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/how-to-change-duplexingspeed/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/how-to-change-duplexingspeed/" rel="bookmark" title="How to change Duplexing/Speed" itemprop="url">How to change Duplexing/Speed</a></h1>
    
  </header>
  <div class="entry-content">
    <p><span style="color: rgb(255, 0, 0)">In this tutorial we will show you how to view your speed/duplexing setting and also changing your duplexing/speed settings</span></p>
<ol>
<li>
<ul>
To view you interface settings, run this..<span style="color: rgb(0, 0, 255)">&quot;<strong>ethtool eth0</strong>&quot;</span>
<pre><br />Settings for eth0:<br />        Supported ports: [ TP MII ]<br />        Supported link modes:   10baseT/Half 10baseT/Full<br />                                100baseT/Half 100baseT/Full<br />        Supports auto-negotiation: Yes<br />        Advertised link modes:  10baseT/Half 10baseT/Full<br />                                100baseT/Half 100baseT/Full<br />        Advertised auto-negotiation: Yes<br />        Speed: 100Mb/s<br />        Duplex: Full<br />        Port: MII<br />        PHYAD: 1<br />        Transceiver: internal<br />        Auto-negotiation: on<br />        Supports Wake-on: g<br />        Wake-on: g<br />        Current message level: 0x00000007 (7)<br />        Link detected: yes<br />  </pre>
<p>&nbsp;</p>
<li>To change your settings for eth0 you will have to do this...<br />
<span style="color: rgb(0, 0, 255)">&quot;<strong>ethtool -s eth1 speed 100 duplex full autoneg off</strong>&quot;</span> </li>
<li><strong>REDHAT</strong>To make these changes permanently you will have to append this <strong><span style="color: rgb(0, 0, 255)">ETHTOOL_OPTS=&quot;speed 100 duplex full autoneg off&quot;</span></strong>to the /etc/sysconfig/network-scripts/ifcfg-eth0 file
<pre><br />DEVICE=eth0<br />BROADCAST=192.168.101.255<br />BOOTPROTO=static<br />HWADDR=00:E0:81:24:CQ:82<br />IPADDR=192.168.101.5<br />NETMASK=255.255.255.0<br />NETWORK=192.168.101.0<br />ONBOOT=yes<br />TYPE=Ethernet<br />ETHTOOL_OPTS=&quot;speed 100 duplex full autoneg off&quot;<br />  </pre>
</li>
</ul>
</li>
</ol>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-02-10T23:11:29-05:00"><a href="http://127.0.0.1:4001/netbackup-troubleshooting-how-to/">February 10, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/netbackup-troubleshooting-how-to/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~4 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/netbackup-troubleshooting-how-to/" rel="bookmark" title="Netbackup Troubleshooting How To" itemprop="url">Netbackup Troubleshooting How To</a></h1>
    
  </header>
  <div class="entry-content">
    <p>This is not really a howto but more of a quick lookup on what commands to use to debug/troubleshoot.&nbsp; <br />
So this is not lay out in any order what so ever. Just a bunch of random notes.... I hope this helps you the way it has helped me..... :)</p>
<p>1. There are 2 directories where logs exist! 1st dir is <strong>/usr/openv/logs</strong> (Low level logs) and<br />
2nd dir is <strong class="highlight">/usr/openv/netbackup</strong><strong>/logs</strong> (Here you will have to create the subdirectories in order <br />
for logs to be created here) BEWARE these logs tend to get huge!</p>
<p>&nbsp;</p>
<p><a id="more"></a><a id="more-69"></a></p>
<p>&nbsp;</p>
<ol>
<li>
<p>Also if the <strong>/usr</strong> dir becomes a 100% full Netbackup will basically stop functioning!! Always check the logs dir!</p>
</li>
<li>
<p>If DNS goes bad Netbackup will also stop functioning and will need a restart of<strong class="highlight"> </strong>Netbackup!</p>
</li>
<li>
<p>Commands you should use for everyday trouble shooting.</p>
<ol>
<li class="gap">
<p dir="ltr"><strong>/usr/openv/netbackup/bin/</strong><strong>bpclntcmd -hn client</strong> <br />
(This command is extremely helpful, it tells you if Netbackup can do a successful lookup of the dns name)</p>
</li>
<li>
<p><tt><span></span></tt><strong><span></span>bpclntcmd -ip ip_address</strong><br />
 (This command is also very helpfuls, it tells you if Netbackup can do a reverse dns lookup)</p>
</li>
<li>
<p><strong><span>/usr/openv/netbackup/bin/</span></strong><strong>bpexpdate -m 03000I -d 0</strong> <br />
(This command allows you to expire media when needed instead of waiting for it to expire)</p>
</li>
<li>
<p><strong>bpstulist</strong> <br />
(This command will tell you all drives and there hosts connected to the master server)</p>
</li>
<li>
<p><strong><span>/usr/openv/volmgr/bin</span></strong>/<strong>tpautoconf -a</strong> <br />
(This cmd will scan all local device on the media manager)</p>
</li>
<li>
<p><strong><span>/usr/openv/volmgr/bin/</span></strong><strong>vmoprcmd</strong> <br />
(excellent cmd for verifying that all media managers have their drives)</p>
</li>
<li>
<p><strong><span>/usr/openv/netbackup/bin/admincmd/</span></strong><strong>bpmedialist -rl 1</strong> <br />
(This cmd is retrieving all info about media that is available/full/expired/other) NOTE: available_media uses this cmd to get some of its info</p>
</li>
<li>
<p><strong><span>/usr/openv/netbackup/bin/admincmd/</span></strong><strong>bpmedia -unfreeze</strong> <strong>-m 03001</strong> <br />
(This cmd unfreezes the media)</p>
</li>
<li><strong><font face="Arial" size="2">/usr/openv/netbackup/bin/</font></strong><strong>bpadm</strong> <br />
(is a script that runs cmds for you in a easier format and also does about 90% of what the gui does)
<ul>
<li>
<p>example how to change a volume pool for a media;</p>
</li>
<li>
<p>run <strong>bpadm</strong></p>
</li>
<li>
<p>choose option (<strong>e</strong>) media management</p>
</li>
<li>
<p>choose option (<strong>s</strong>) special actions</p>
</li>
<li>
<p>choose option (<strong>p</strong>) Change volume pool for volume pools</p>
</li>
<li>
<p>choose a volume pool from where you are want to move media to, and you are done!</p>
</li>
</ul>
</li>
<li>
<p>Troubleshooting <strong>SYBASE GOING FUBAR</strong>! These are the steps to take to get a clean EMM database up and running with .</p>
<ul>
<li>
<p>Stop Netbackup services.</p>
</li>
<li>
<p>Move the contents our of the <strong>/usr/openv/db/data/</strong> directory.</p>
</li>
<li>
<p>Start the database server up with the command &quot;<strong>nbdbms_start_server</strong>&quot; from the <strong>/usr/openv/db/bin</strong> directory</p>
</li>
<li>
<p>Run a &quot;<strong>nbdbms_start_server -stat</strong>&quot; to make sure the database server was up</p>
</li>
<li>
<p>Run &quot;<strong>create_nbdb</strong>&quot; to created in default locations to database files.</p>
</li>
<li>
<p>Start Netbackup services.</p>
</li>
<li>
<p>Run &quot;<strong>tpext</strong>&quot; from the <strong>/volmgr/bin</strong> directory</p>
</li>
<li>
<p>Then restart Netbackup on all servers!</p>
</li>
<li>
<p>Now scan for all devices on &lt;hostname&gt;.</p>
</li>
</ul>
</li>
<li class="gap">
<p>Check a jukebox at the command line:</p>
<ul>
<li>
<p><strong>/usr/openv/volmgr/bin/vmcheckxxx -rt tld -rn 1 -list</strong></p>
</li>
</ul>
</li>
<li class="gap">
<p>Inventory Jukebox from the command line:</p>
<ul>
<li>
<p><strong>/usr/openv/volmgr/bin/vmupdate -rt tld -rn 1 -full [-interactive] -use_barcode_rules</strong></p>
</li>
</ul>
</li>
<li class="gap">
<p>Check to see which disk are expired, full, available</p>
<ul>
<li>
<p><strong>/usr/openv/</strong><strong class="highlight">netbackup</strong><strong>/bin bpmedialist -rl 1</strong> <br />
(-rl means retention level, the 1 means 2 week retention which is what we are using)</p>
</li>
</ul>
</li>
<li class="gap">
<p>If you notice that you are running out of tapes and you know tapes shouldve expired, <br />
run the previous command and get all of the expire tapes and run this command.</p>
<ul>
<li>
<p>/usr/openv/<strong class="highlight">netbackup</strong>/bin/bpexpdate -m [mediaid] -d 0 (-d means days so 0 means now)</p>
</li>
</ul>
<ol>
<li>
<p>The <strong><span>/usr/openv/netbackup/bin/admincmd/</span></strong><strong>nbemmcmd</strong> (This is the sybase cmd utility<br />
<strong>(PLEASE BE CAREFUL USING THIS CMD!! </strong><br />
This cmd is very useful in situations where you have to remove/add a client/media manager/device. here are some examples:</p>
<ul>
<li>
<p>This deletes a media manger (<strong>nbemmcmd -deletehost -machinename media_server -machinetype media</strong>)</p>
</li>
<li>
<p>This deletes a tape (<strong>nbemmcmd -deletemedia -mediaid 03000I -originhost server</strong>)</p>
</li>
<li>
<p>This tells you if which boxes are have a emmserver and if they are reachable (<strong>nbemmcmd -getemmserver</strong>)</p>
</li>
<li>
<p>This will let you know if there are any media conflicts (<strong>nbemmcmd -listmedia -conflicts</strong>)</p>
</li>
<li>
<p>This will let you know what hosts are seen as media_managers and master servers (<strong>nbemmcmd -listhosts</strong>)</p>
</li>
</ul>
</li>
</ol>
</li>
</ol>
<ul>
<li><strong>&nbsp;/usr/openv/netbackup/bin/bpps -x</strong> (shows all Netbackup process that are running). </li>
</ul>
<ul>
<li>
<pre><font size="2"><strong><span>/usr/openv/netbackup/bin/goodies/available_media <br /></span></strong>(Display all media and its states, and this script does this by <br />running two other commaands and formatting it so it can be seen in a usable format) </font></pre>
</li>
</ul>
<ul>
<li><strong><span>/usr/openv/netbackup/bin/admincmd/</span></strong><strong>bpdbjobs</strong> (This is esentially the activity monitor)</li>
</ul>
</li>
</ol>
<p><script type="text/javascript"><!--<br />
 amzn_cl_tag="linuxd-20";<br />
//--></script><br />
<script type="text/javascript" src="http://cls.assoc-amazon.com/s/cls.js"></script></p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2008-02-10T22:41:21-05:00"><a href="http://127.0.0.1:4001/how-to-add-a-virtual-interface/">February 10, 2008</a></time></span><span class="author vcard"><span class="fn"><a href="http://127.0.0.1:4001/about/" title="About Allen Sanabria">Allen Sanabria</a></span></span>&nbsp; &bull; &nbsp;<span class="entry-comments"><a href="http://127.0.0.1:4001/how-to-add-a-virtual-interface/#disqus_thread">Comment</a></span>
      
      <span class="entry-reading-time pull-right">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="http://127.0.0.1:4001/how-to-add-a-virtual-interface/" rel="bookmark" title="How to add a virtual interface" itemprop="url">How to add a virtual interface</a></h1>
    
  </header>
  <div class="entry-content">
    <p><strong><span style="color: rgb(255, 0, 0)">How to add Virtual Interfaces!!!</span></strong></p>
<ol>
<li>
<ul>
Here we will show you how to add a virtual interface
<li>To do this manually and not set it as default you will do this...<br />
<strong><span style="color: rgb(0, 0, 255)">&quot;ifconfig eth0:0 192.168.101.6 netmask 255.255.255.0 up&quot;</span></strong> </li>
</ul>
</li>
</ol>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    
      <a href="http://127.0.0.1:4001/page26" class="btn">Previous</a>
    
  
  <ul class="inline-list">
    <li>
      
        <a href="http://127.0.0.1:4001">1</a>
      
    </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page2">2</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page3">3</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page4">4</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page5">5</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page6">6</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page7">7</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page8">8</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page9">9</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page10">10</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page11">11</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page12">12</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page13">13</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page14">14</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page15">15</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page16">16</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page17">17</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page18">18</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page19">19</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page20">20</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page21">21</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page22">22</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page23">23</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page24">24</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page25">25</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page26">26</a>
        
      </li>
    
      <li>
        
          <span class="current-page">27</span>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page28">28</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page29">29</a>
        
      </li>
    
      <li>
        
          <a href="http://127.0.0.1:4001/page30">30</a>
        
      </li>
    
  </ul>
  
    <a href="http://127.0.0.1:4001/page28" class="btn">Next</a>
  
</div><!-- /.pagination -->

</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Allen Sanabria. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://127.0.0.1:4001/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://127.0.0.1:4001/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-2333243-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>

          

</body>
</html>